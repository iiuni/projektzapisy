{% load render_bundle from webpack_loader %}

<div id="employee-profile">
	<h3>{{employee.get_full_name}}</h3>
	<table class="table table-condensed">
		<colgroup>
			<col class="table-info-type"></col>
			<col></col>
		</colgroup>
		{% if user.is_authenticated %}
			<tr>
				<th>adres email</th>
				<td>
					{% if employee.user.email %}
						<a href="mailto:{{employee.user.email}}">
							{{employee.user.email}}
						</a>
					{% else %}
						brak danych
					{% endif %}
				</td>
			</tr>
		{% endif %}
			<tr>
				<th>strona domowa</th>
				<td>
					{% if employee.homepage %}
						<a href="{{employee.homepage}}">{{employee.homepage}}</a>
					{% else %}
						brak danych
					{% endif %}
				</td>
			</tr>
			<tr>
				<th>pokój</th>
				<td>
						{{employee.room|default_if_none:"brak danych"}}
				</td>
			</tr>
	</table>
	{% if employee.consultations %}
		<h3>Konsultacje:</h3>
		<p>{{ employee.consultations }}</p>
	{% endif %}

	<h3 class="subheader">Plan zajęć:</h3>
	<nav class="col-lg-3 col-12 d-print-none order-first order-lg-last mb-3">
		<div class="dropdown">
			<div class="btn-group btn-block mb-3 w-100">
				<button class="btn btn-light" disabled>
					<strong>Semestr {{ semester }}</strong>
				</button>
				<button class="btn btn-light dropdown-toggle dropdown-toggle-split"
						href="#" role="button" id="semester-dropdown" 
						data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="sr-only"></span>
				</button>
				<div class="dropdown-menu" aria-labelledby="semester-dropdown">
					{% for semester in all_semesters %}
						<a class="dropdown-item semester-link"
								href={% url 'employee-profile-semester' employee.user_id semester.pk %}>
							{{ semester }}
						</a>
					{% endfor %}
				</div>
			</div>
		</div>
	</nav>
	<div id="timetable"></div>
	<script id="timetable-data" type="application/json">{{ groups_json|safe }}</script>
	{% render_bundle 'timetable-timetable-component' %}
</div>
